import type { NextPage } from 'next'
import Head from 'next/head'
import React, { useEffect, useState } from 'react'
import AboutMeSection from '../components/AboutMeSection'
import Contact from '../components/Contact'
import Footer from '../components/footer'
import Header from '../components/Header'
import { JobsSection } from '../components/JobsSection'
import MainSection from '../components/MainSection'
import ProjectsSection from '../components/ProjectsSection'
import { SocialItems } from '../components/socialItems'
import Body, { AnimationSection } from './styles'
import animationGit from '../public/animationLottie.json'
import Lottie from 'react-lottie'
import { Container } from '../components/Header/styles'

const Home: NextPage = () => {
  const [completed, setCompleted] = useState(false)

  const defaultOptions1 = {
    loop: true,
    autoplay: true,
    animationData: animationGit,
    rendererSettings: {
      preserveAspectRatio: 'xMidYMid slice',
    },
  }

  useEffect(() => {
    setTimeout(() => {
      setCompleted(true)
    }, 2500)
  })
  return !completed ? (
    <>
      <Head>
        <title>LA | Portfolio</title>
        <meta
          name="description"
          content="Generated by create next app"
        />
        <link rel="icon" href="/icon.jpg" />
      </Head>
      <Container>
        <Body>
          <AnimationSection>
            <div className="animation">
              <Lottie options={defaultOptions1} />
            </div>
          </AnimationSection>
        </Body>
      </Container>
    </>
  ) : (
    <>
      <Body>
        <Header />

        <div className="SectionContent">
          <MainSection />
          <div id="about">
            <AboutMeSection />
          </div>
          <div id="jobs">
            <JobsSection />
          </div>
          <div id="projects">
            <ProjectsSection />
          </div>
          <div id="contact">
            <Contact />
          </div>
        </div>

        <SocialItems />
      </Body>
    </>
  )
}

export default Home
